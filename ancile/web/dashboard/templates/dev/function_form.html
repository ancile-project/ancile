{% extends "base_dashboard.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}{{ title }}{% endblock %}
{% block dev_active %}active{% endblock %}

{% block content %}
    <div class="card" style="width:500px;">
        <div class="card-header card-header-text card-header-primary" style="margin:0 auto;">
            <div class="card-text" style="text-align: center">
                <h4 class="card-title">{% block form_title %}{{ form_title }}{% endblock%}</h4>
            </div>
        </div>
        <div class="card-body">
            <form action={{ redirect }} method="post" style="text-align: center; margin: auto;">
                {% csrf_token %}
                {{ form|crispy }}
                <div id="editor">{{body}}</div>
                <br>
                <a class="btn btn-default" href="#" onclick="window.history.back()">Back</a>
                <input class="btn btn-primary" type="submit" value="Submit">
            </form>
        </div>
    </div>

<script src="{% static "dashboard/js/ace/ace.js" %}" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    //document.getElementById("id_body").style.display = "none";
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/tomorrow");
    editor.session.setMode("ace/mode/python");
    editor.session.on('change', function(delta) {
        document.getElementById("id_body").value = editor.getValue()
    });
</script>
<style type="text/css" media="screen">
    #editor {
        height: 250px;
    }
</style>
{% endblock %}

