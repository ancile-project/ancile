{% extends "base_table.html" %}

{% block title %} Provider {% endblock %}
{% block providers_active %}active{% endblock %}
{% block table_title %} Provider {% endblock %}
{% block table_sub %} {% endblock %}


{% block table_content %}
  <thead class="text-primary">
    <th>
      Data Provider
    </th>
    <th>
      Authorized Scopes
    </th>
    <th>
      Expires At
    </th>
    <th>
      Actions
    </th>
  </thead>
  <tbody>
    <tr>
      <td>
        {{ token.provider.display_name }}
      </td>
      <td>
        <ul>
        {% for scope in token.scopes.all %}
          <li>{{ scope.simple_name }}</li>
        {% endfor %}
        </ul>
      </td>
      <td class="timestamp">
        {{ token.expires_at }}
      </td>
      <td>
        <a href="#" onclick="removeProvider(this, '{{ token.provider.path_name }}'); return false"><i class="material-icons">delete</i></a>
      </td>
    </tr>
  </tbody>
{% endblock %}

{% block post_table %}

<div class="row">
    <div class="col-md-12">
      <div class="card">
          <div class="card-header card-header-primary">
              <h4 class="card-title">Token Data</h4>
          </div>
        <div class="card-body">
          <a class="btn btn-primary btn-round" href="/user/edit/data/{{token.id}}"><i class="material-icons">edit</i>Edit Data</a>
            <table cellpadding="10">
            <tr>
            </tr>
            {% for key,value in data.items %}
            <tr>
            <th>{{ key }}</th>
            <td>{{ value }}</td>
            </tr>
            {% endfor %}
            </table>
        </div>
      </div>
    </div>
</div>
<div style="text-align: center;">
<a class="btn btn-default" href="#" onclick="window.history.back()">Back</a>
</div>
{% endblock %}

